#:import Snackbar kivymd.uix.snackbar.Snackbar
#:import Window kivy.core.window.Window
MDScreen:
    id: createRecipe
    name: 'createRecipe'
    ingredientforRecipe: ingredientforRecipe
    unitC: unitC

    MDFloatLayout:
        id: create_recipe
        md_bg_color: 72/255, 61/255, 139/255, .5

        MDLabel:
            text: 'Create Recipe'
            pos_hint: {"center_x": .6, "center_y": .96}
            font_size: '35sp'
        MDLabel:
            id: unitC
            text: ''
            pos_hint: {"center_x": .01, "center_y": .5}

        Buttons:
            text: '+'
            pos_hint: {"center_x": .85, "center_y": .87}
            font_size: '27sp'
            on_release:
                root.manager. transition.direction = 'left'
                root.manager.current = 'ingSelector'
                app.add_ingredient_to_recipe()


        ScrollView:
            do_scroll_y: True
            do_scroll_x: False
            size_hint_y: .47
            pos_hint: {"center_x": .55, "y": 0.35}
            bar_width: 0
            GridLayout:
                id: ingredientforRecipe
#                name: 'ingredientforRecipe'
                cols: 1
                height: self.minimum_height
                row_default_height: 70
                size_hint_y: None
                padding: 15, 10
                spacing: 15, 20
        MDFloatLayout:
            size_hint: .85, .14
            pos_hint: {"center_x": .5, "center_y": .27}
            canvas:
                Color:
                    rgb: (238/255, 238/255, 238/255, 1)
                RoundedRectangle:
                    size: self.size
                    pos: self.pos
                    radius: [25]
            TextInput:
                id: Recomment
                hint_text: 'Comment'
                size_hint: 1, None
                pos_hint: {"center_x": .5, "center_y": .5}
                height: 230
                cursor_color: 75/255, 0/255, 130/255, 1
                background_color: 0, 0, 0, 0
                padding: 15
                font_size: '18sp'

        MDFloatLayout:
            size_hint: .65, .08
            pos_hint: {"center_x": .4, "center_y": .87}
            canvas:
                Color:
                    rgb: (238/255, 238/255, 238/255, 1)
                RoundedRectangle:
                    size: self.size
                    pos: self.pos
                    radius: [25]
            TextInput:
                id: Renames
                hint_text: 'Recipe Name'
                size_hint: 1, None
                pos_hint: {"center_x": .5, "center_y": .5}
                height: self.minimum_height
                multiline: False
                cursor_color: 75/255, 0/255, 130/255, 1
                background_color: 0, 0, 0, 0
                padding: 15
                font_size: '18sp'
#        MDFloatLayout:
#            size_hint: .25, .04
#            pos_hint: {"center_x": .2, "center_y": .8}
#            canvas:
#                Color:
#                    rgb: (238/255, 238/255, 238/255, 1)
#                RoundedRectangle:
#                    size: self.size
#                    pos: self.pos
#                    radius: [25]
#            TextInput:
#                id: Diameter
#                hint_text: ' Diameter'
#                size_hint: 1, None
#                input_filter:'int'
#                height: self.minimum_height
#                pos_hint: {"center_x": .5, "center_y": .5}
#                cursor_color: 75/255, 0/255, 130/255, 1
#                background_color: 0, 0, 0, 0
#                font_size: '18sp'
#
#        MyToggleButton:
#            id: cake
#            text: 'Cake'
#            size_hint: .16, .04
#            font_size: '18sp'
#            pos_hint: {"center_x": .43, "center_y": .8}
#            group: 'cake'
##            state: 'down'
#            on_state:
#                if self.state == "down":\
#                unitC.text = 'cake'
#
#        MyToggleButton:
#            id: mousse
#            text: 'Mousse'
#            size_hint: .19, .04
#            font_size: '18sp'
#            pos_hint: {"center_x": .63, "center_y": .8}
#            group: 'cake'
#            on_state:
#                if self.state == "down":\
#                unitC.text = 'mousse'

        Buttons:
            text: 'Create'
            size_hint: .45, .08
            pos_hint: {"center_x": .5, "center_y": .14}
            background_color: 0, 0, 0, 0
            font_size: '18sp'
            color: 1, 1, 1, 1
            on_release:
                if Renames.text == '':\
                Snackbar(text="[color=#ff6600]Add Name [/color]",
                snackbar_x='10dp', snackbar_y='10dp',
                duration = 1,
                size_hint_x=(Window.width - (dp(10) * 2))/Window.width,
                bg_color=(75/255, 0/255, 130/255, .2),
                radius=[20],
                font_size='17sp').open()

#                elif Diameter.text == '':\
#                Snackbar(text="[color=#ff6600]Add Diameter [/color]",
#                snackbar_x='10dp', snackbar_y='10dp',
#                duration = 1,
#                size_hint_x=(Window.width - (dp(10) * 2))/Window.width,
#                bg_color=(75/255, 0/255, 130/255, .2),
#                radius=[20],
#                font_size='17sp').open()

                else:\
                app.create_recipe(Renames.text, Recomment.text)
                Snackbar(text="[color=#ff6600]Recipe [/color]" +str(Renames.text)+ "[color=#ff6600] created![/color]",
                snackbar_x='10dp', snackbar_y='10dp',
                duration = 1,
                size_hint_x=(Window.width - (dp(10) * 2))/Window.width,
                bg_color=(75/255, 0/255, 130/255, .2),
                radius=[20],
                font_size='17sp').open()

#                Renames.text=''
#                Recomment.text=''
#                ingredientforRecipe.clear_widgets()
#                price.text=''
#                quantity.text=''
#                pcs.state='normal'
#                ml.state='normal'
#                gram.state='normal'

            canvas.before:
                Color:
                    rgb: (75/255, 0/255, 130/255, 1)
                RoundedRectangle:
                    size: self.size
                    pos: self.pos
                    radius: [25]

        Buttons:
            text: 'X'
            pos_hint: {"center_x": .85, "center_y": .14}
            on_release:
                root.manager. transition.direction = 'down'
                root.manager.current = 'main'

        Buttons:
            text: 'Clean'
            pos_hint: {"center_x": .15, "center_y": .14}
            font_size: '14sp'
            size_hint: .1, .048
            on_release:
                Renames.text=''
                Recomment.text=''
#                Diameter.text=''
#                cake.state='normal'
#                mousse.state='normal'
                ingredientforRecipe.clear_widgets()

<Buttons@MDFillRoundFlatButton>

    user_font_size: '10sp'
    md_bg_color: 75/255, 0/255, 130/255, 1
    theme_text_color: 'Custom'
    text_color: 1,1,1,1


