#:import Snackbar kivymd.uix.snackbar.Snackbar
#:import Window kivy.core.window.Window
MDScreen:
    create_ingredient: create_ingredient
    name: 'create'
    names: names
    price: price
    quantity: quantity
    pcs: pcs
    ml: ml
    gram: gram
    comment: comment
    unit: unit

    MDFloatLayout:
        id: create_ingredient
        md_bg_color: 72/255, 61/255, 139/255, .5

        MDLabel:
            id: unit
            text: ''
            pos_hint: {"center_x": .01, "center_y": .5}
        MDLabel:
            text: 'Create Ingredient'
            pos_hint: {"center_x": .6, "center_y": .96}
            font_size: '35sp'

        MDFloatLayout:
            size_hint: .85, .08
            pos_hint: {"center_x": .5, "center_y": .87}
            canvas:
                Color:
                    rgb: (238/255, 238/255, 238/255, 1)
                RoundedRectangle:
                    size: self.size
                    pos: self.pos
                    radius: [25]
            TextInput:
                id: names
                hint_text: 'Name'
                size_hint: 1, None
                pos_hint: {"center_x": .5, "center_y": .5}
                height: self.minimum_height
                multiline: False
                cursor_color: 75/255, 0/255, 130/255, 1
                background_color: 0, 0, 0, 0
                padding: 15
                font_size: '18sp'

        MDFloatLayout:
            size_hint: .85, .08
            pos_hint: {"center_x": .5, "center_y": .77}
            canvas:
                Color:
                    rgb: (238/255, 238/255, 238/255, 1)
                RoundedRectangle:
                    size: self.size
                    pos: self.pos
                    radius: [25]
            TextInput:
                id: price
                hint_text: 'Price'
                input_filter:'int'
                size_hint: 1, None
                pos_hint: {"center_x": .5, "center_y": .5}
                height: self.minimum_height
                multiline: False
                cursor_color: 75/255, 0/255, 130/255, 1
                background_color: 0, 0, 0, 0
                padding: 15
                font_size: '18sp'

        MDFloatLayout:
            size_hint: .35, .08
            pos_hint: {"center_x": .25, "center_y": .67}
            canvas:
                Color:
                    rgb: (238/255, 238/255, 238/255, 1)
                RoundedRectangle:
                    size: self.size
                    pos: self.pos
                    radius: [25]
            TextInput:
                id: quantity
                hint_text: 'Qty'
                input_filter:'int'
                size_hint: 1, None
                pos_hint: {"center_x": .5, "center_y": .5}
                height: self.minimum_height
                multiline: False
                cursor_color: 75/255, 0/255, 130/255, 1
                background_color: 0, 0, 0, 0
                padding: 15
                font_size: '18sp'

        MyToggleButton:
            id: pcs
            text: 'Pcs'
            size_hint: .15, .08
            font_size: '18sp'
            pos_hint: {"center_x": .53, "center_y": .67}
            group: 'unit'
            on_state:
                if self.state == "down":\
                unit.text = ' pcs'

        MyToggleButton:
            id: ml
            text: 'Ml'
            size_hint: .15, .08
            font_size: '18sp'
            pos_hint: {"center_x": .69, "center_y": .67}
            group: 'unit'
            on_state:
                if self.state == "down":\
                unit.text = ' ml'

        MyToggleButton:
            id: gram
            text: 'Gr'
            size_hint: .15, .08
            font_size: '18sp'
            pos_hint: {"center_x": .85, "center_y": .67}
            group: 'unit'
            on_state:
                if self.state == "down":\
                unit.text = ' gram'

        MDFloatLayout:
            size_hint: .85, .28
            pos_hint: {"center_x": .5, "center_y": .47}
            canvas:
                Color:
                    rgb: (238/255, 238/255, 238/255, 1)
                RoundedRectangle:
                    size: self.size
                    pos: self.pos
                    radius: [25]
            TextInput:
                id: comment
                hint_text: 'Comment'
                size_hint: 1, None
                pos_hint: {"center_x": .5, "center_y": .5}
                height: 400
                cursor_color: 75/255, 0/255, 130/255, 1
                background_color: 0, 0, 0, 0
                padding: 15
                font_size: '18sp'

        Buttons:
            text: 'Add'
            size_hint: .45, .08
            pos_hint: {"center_x": .5, "center_y": .14}
            background_color: 0, 0, 0, 0
            font_size: '18sp'
            color: 1, 1, 1, 1
            on_release:
                if names.text == '':\
                Snackbar(text="[color=#ff6600]Add Name [/color]",
                snackbar_x='10dp', snackbar_y='10dp',
                duration = 1,
                size_hint_x=(Window.width - (dp(10) * 2))/Window.width,
                bg_color=(75/255, 0/255, 130/255, .2),
                radius=[20],
                font_size='17sp').open()

                elif price.text == '':\
                Snackbar(text="[color=#ff6600]Add Price [/color]",
                snackbar_x='10dp', snackbar_y='10dp',
                duration = 1,
                size_hint_x=(Window.width - (dp(10) * 2))/Window.width,
                bg_color=(75/255, 0/255, 130/255, .2),
                radius=[20],
                font_size='17sp').open()

                elif quantity.text == '':\
                Snackbar(text="[color=#ff6600]Add Quantity [/color]",
                snackbar_x='10dp', snackbar_y='10dp',
                duration = 1,
                size_hint_x=(Window.width - (dp(10) * 2))/Window.width,
                bg_color=(75/255, 0/255, 130/255, .2),
                radius=[20],
                font_size='17sp').open()

                elif unit.text == '':\
                Snackbar(text="[color=#ff6600]Choose Unit [/color]",
                snackbar_x='10dp', snackbar_y='10dp',
                duration = 1,
                size_hint_x=(Window.width - (dp(10) * 2))/Window.width,
                bg_color=(75/255, 0/255, 130/255, .2),
                radius=[20],
                font_size='17sp').open()

                else:\
                app.create_ingredient(names.text, price.text, quantity.text, pcs.state, ml.state, gram.state, comment.text, unit.text)
                Snackbar(text="[color=#ff6600]Ingredient [/color]" +str(names.text)+ "[color=#ff6600] added![/color]",
                snackbar_x='10dp', snackbar_y='10dp',
                duration = 1,
                size_hint_x=(Window.width - (dp(10) * 2))/Window.width,
                bg_color=(75/255, 0/255, 130/255, .2),
                radius=[20],
                font_size='17sp').open()


            canvas.before:
                Color:
                    rgb: (75/255, 0/255, 130/255, 1)
                RoundedRectangle:
                    size: self.size
                    pos: self.pos
                    radius: [25]

        Buttons:
            text: 'X'
            pos_hint: {"center_x": .85, "center_y": .14}
            on_release:
                root.manager. transition.direction = 'down'
                root.manager.current = 'main'

        Buttons:
            text: 'Clean'
            pos_hint: {"center_x": .15, "center_y": .14}
            font_size: '14sp'
            size_hint: .1, .048
            on_release:
                names.text=''
                price.text=''
                quantity.text=''
                comment.text=''
                pcs.state='normal'
                ml.state='normal'
                gram.state='normal'

<Buttons@MDFillRoundFlatButton>

    user_font_size: '10sp'
    md_bg_color: 75/255, 0/255, 130/255, 1
    theme_text_color: 'Custom'
    text_color: 1,1,1,1


